<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è - –£—Ä–æ–∫ 2: –ù–µ–ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –≥–ª–∞—Å–Ω—ã–µ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            padding: 40px;
        }

        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #f0f0f0;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .exercise {
            background: #f9f9f9;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .exercise h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .exercise-description {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .question {
            background: white;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
            transition: border-color 0.3s;
        }

        .question:hover {
            border-color: #667eea;
        }

        .question-text {
            margin-bottom: 10px;
            font-weight: 500;
            color: #333;
        }

        input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
        }

        input.correct {
            border-color: #4CAF50;
            background-color: #e8f5e9;
        }

        input.incorrect {
            border-color: #f44336;
            background-color: #ffebee;
        }

        .radio-group label {
            display: block;
            padding: 10px;
            margin-bottom: 8px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .radio-group label:hover {
            background: #f5f5f5;
            border-color: #667eea;
        }

        .radio-group input[type="radio"] {
            margin-right: 10px;
        }

        .radio-group label.correct {
            background: #e8f5e9;
            border-color: #4CAF50;
        }

        .radio-group label.incorrect {
            background: #ffebee;
            border-color: #f44336;
        }

        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #e8f5e9;
            color: #2e7d32;
            border-left: 4px solid #4CAF50;
        }

        .feedback.incorrect {
            background: #ffebee;
            color: #c62828;
            border-left: 4px solid #f44336;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        button {
            flex: 1;
            min-width: 150px;
            padding: 15px 30px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .check-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .check-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .reset-btn {
            background: #f44336;
            color: white;
        }

        .reset-btn:hover {
            background: #d32f2f;
            transform: translateY(-2px);
        }

        .show-answer-btn {
            background: #4CAF50;
            color: white;
        }

        .show-answer-btn:hover {
            background: #388E3C;
            transform: translateY(-2px);
        }

        .result-box {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 20px;
            display: none;
        }

        .result-box.show {
            display: block;
        }

        .result-box h3 {
            font-size: 1.8em;
            margin-bottom: 10px;
        }

        .result-box p {
            font-size: 1.2em;
        }

        .score {
            font-size: 2.5em;
            font-weight: bold;
            margin: 15px 0;
        }

        .emoji {
            font-size: 3em;
            margin: 10px 0;
        }

        .answer-key {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            display: none;
        }

        .answer-key.show {
            display: block;
        }

        .answer-key h4 {
            color: #856404;
            margin-bottom: 10px;
        }

        .answer-key-content {
            color: #856404;
            line-height: 1.8;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 12px 25px;
            background: #757575;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: #616161;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.5em;
            }

            .button-group {
                flex-direction: column;
            }

            button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìù –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è</h1>
        <p class="subtitle">–£—Ä–æ–∫ 2: –ù–µ–ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –≥–ª–∞—Å–Ω—ã–µ –≤ –∫–æ—Ä–Ω–µ —Å–ª–æ–≤–∞</p>

        <div class="progress-bar">
            <div class="progress-fill" id="progressBar">0%</div>
        </div>

        <!-- –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1: –í—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –±—É–∫–≤—ã -->
        <div class="exercise" id="exercise1">
            <h2>–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1: –í—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –±—É–∫–≤—ã</h2>
            <p class="exercise-description">–í—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –≥–ª–∞—Å–Ω—ã–µ –≤ —Å–ª–æ–≤–∞—Ä–Ω—ã–µ —Å–ª–æ–≤–∞. –ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—Ç–µ—Å—å, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º—É —Å–ª–æ–≤–∞—Ä—é.</p>

            <div class="question">
                <p class="question-text">1. –∫_—Ä_–Ω–¥–∞—à</p>
                <input type="text" data-answer="–∞,–∞" placeholder="–í–≤–µ–¥–∏—Ç–µ –±—É–∫–≤—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é">
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p class="question-text">2. –≤_–≥_–Ω</p>
                <input type="text" data-answer="–∞,–æ" placeholder="–í–≤–µ–¥–∏—Ç–µ –±—É–∫–≤—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é">
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p class="question-text">3. —Å_–±_–∫–∞</p>
                <input type="text" data-answer="–æ,–∞" placeholder="–í–≤–µ–¥–∏—Ç–µ –±—É–∫–≤—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é">
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p class="question-text">4. –∫_—Ä_–≤–∞</p>
                <input type="text" data-answer="–æ,–æ" placeholder="–í–≤–µ–¥–∏—Ç–µ –±—É–∫–≤—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é">
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p class="question-text">5. –∫_–ø_—Å—Ç–∞</p>
                <input type="text" data-answer="–∞,—É" placeholder="–í–≤–µ–¥–∏—Ç–µ –±—É–∫–≤—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é">
                <div class="feedback"></div>
            </div>

            <div class="button-group">
                <button class="check-btn" onclick="checkExercise(1)">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                <button class="show-answer-btn" onclick="showAnswers(1)">–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç—ã</button>
                <button class="reset-btn" onclick="resetExercise(1)">–°–±—Ä–æ—Å–∏—Ç—å</button>
            </div>

            <div class="answer-key" id="answers1">
                <h4>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:</h4>
                <div class="answer-key-content">
                    1. –∫<strong>–∞</strong>—Ä<strong>–∞</strong>–Ω–¥–∞—à<br>
                    2. –≤<strong>–∞</strong>–≥<strong>–æ</strong>–Ω<br>
                    3. —Å<strong>–æ</strong>–±<strong>–∞</strong>–∫–∞<br>
                    4. –∫<strong>–æ</strong>—Ä<strong>–æ</strong>–≤–∞<br>
                    5. –∫<strong>–∞</strong>–ø<strong>—É</strong>—Å—Ç–∞
                </div>
            </div>
        </div>

        <!-- –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 2: –í—ã–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç -->
        <div class="exercise" id="exercise2">
            <h2>–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 2: –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç</h2>
            <p class="exercise-description">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–Ω–æ–≥–æ —Å–ª–æ–≤–∞.</p>

            <div class="question">
                <p class="question-text">1. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–∏—à–µ—Ç—Å—è?</p>
                <div class="radio-group">
                    <label><input type="radio" name="q1" value="–∞"> –≤–∞—Ä–æ–Ω–∞</label>
                    <label><input type="radio" name="q1" value="–±"> –≤–æ—Ä–æ–Ω–∞</label>
                    <label><input type="radio" name="q1" value="–≤"> –≤–∞—Ä–æ–Ω–æ</label>
                </div>
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p class="question-text">2. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–∏—à–µ—Ç—Å—è?</p>
                <div class="radio-group">
                    <label><input type="radio" name="q2" value="–∞"> –∫–∞—Ä–æ–≤–∞</label>
                    <label><input type="radio" name="q2" value="–±"> –∫–æ—Ä–∞–≤–∞</label>
                    <label><input type="radio" name="q2" value="–≤"> –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å</label>
                </div>
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p class="question-text">3. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–∏—à–µ—Ç—Å—è?</p>
                <div class="radio-group">
                    <label><input type="radio" name="q3" value="–∞"> –≤–∞—Ä–æ–±–µ–π</label>
                    <label><input type="radio" name="q3" value="–±"> –≤–æ—Ä–æ–±–µ–π</label>
                    <label><input type="radio" name="q3" value="–≤"> –≤–æ—Ä–∞–±–µ–π</label>
                </div>
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p class="question-text">4. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–∏—à–µ—Ç—Å—è?</p>
                <div class="radio-group">
                    <label><input type="radio" name="q4" value="–∞"> –º–∞—à—ã–Ω–∞</label>
                    <label><input type="radio" name="q4" value="–±"> –º–æ—à–∏–Ω–∞</label>
                    <label><input type="radio" name="q4" value="–≤"> –º–∞—à–∏–Ω–∞</label>
                </div>
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p class="question-text">5. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–∏—à–µ—Ç—Å—è?</p>
                <div class="radio-group">
                    <label><input type="radio" name="q5" value="–∞"> –ø–∏–Ω–∞–ª</label>
                    <label><input type="radio" name="q5" value="–±"> –ø–µ–Ω–∞–ª</label>
                    <label><input type="radio" name="q5" value="–≤"> –ø–∏–Ω–æ–ª</label>
                </div>
                <div class="feedback"></div>
            </div>

            <div class="button-group">
                <button class="check-btn" onclick="checkExercise(2)">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                <button class="show-answer-btn" onclick="showAnswers(2)">–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç—ã</button>
                <button class="reset-btn" onclick="resetExercise(2)">–°–±—Ä–æ—Å–∏—Ç—å</button>
            </div>

            <div class="answer-key" id="answers2">
                <h4>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:</h4>
                <div class="answer-key-content">
                    1. <strong>–±) –≤–æ—Ä–æ–Ω–∞</strong> (—Å –¥–≤—É–º—è –û)<br>
                    2. <strong>–≤) –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å</strong><br>
                    3. <strong>–±) –≤–æ—Ä–æ–±–µ–π</strong><br>
                    4. <strong>–≤) –º–∞—à–∏–Ω–∞</strong><br>
                    5. <strong>–±) –ø–µ–Ω–∞–ª</strong>
                </div>
            </div>
        </div>

        <!-- –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 3: –ù–∞–π—Ç–∏ –æ—à–∏–±–∫–∏ -->
        <div class="exercise" id="exercise3">
            <h2>–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 3: –ù–∞–π–¥–∏—Ç–µ –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏</h2>
            <p class="exercise-description">–ù–∞–π–¥–∏—Ç–µ —Å–ª–æ–≤–∞—Ä–Ω—ã–µ —Å–ª–æ–≤–∞ —Å –æ—à–∏–±–∫–∞–º–∏ –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –∏—Ö.</p>

            <div class="question">
                <p class="question-text">1. –í –æ–≥–æ—Ä–æ–¥–µ —Ä–∞—Å—Ç—É—Ç –æ–≥—É—Ä—Ü—ã, –ø–æ–º–∏–¥–æ—Ä—ã –∏ –∫–∞–ø—É—Å—Ç–∞.</p>
                <div class="radio-group">
                    <label><input type="radio" name="q6" value="–∞"> –û—à–∏–±–æ–∫ –Ω–µ—Ç</label>
                    <label><input type="radio" name="q6" value="–±"> –æ–≥—É—Ä—Ü—ã ‚Üí –æ–≥—É—Ä—Ü—ã (–≤–µ—Ä–Ω–æ)</label>
                    <label><input type="radio" name="q6" value="–≤"> –ø–æ–º–µ–¥–æ—Ä—ã ‚Üí –ø–æ–º–∏–¥–æ—Ä—ã</label>
                </div>
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p class="question-text">2. –°–æ–±–æ–∫–∞ –∏ –∫–∞—Ä–æ–≤–∞ –ø–∞—Å–ª–∏—Å—å –Ω–∞ –ª—É–≥—É.</p>
                <div class="radio-group">
                    <label><input type="radio" name="q7" value="–∞"> –û—à–∏–±–æ–∫ –Ω–µ—Ç</label>
                    <label><input type="radio" name="q7" value="–±"> —Å–æ–±–æ–∫–∞ ‚Üí —Å–æ–±–∞–∫–∞, –∫–∞—Ä–æ–≤–∞ ‚Üí –∫–æ—Ä–æ–≤–∞</label>
                    <label><input type="radio" name="q7" value="–≤"> —Ç–æ–ª—å–∫–æ –∫–∞—Ä–æ–≤–∞ ‚Üí –∫–æ—Ä–æ–≤–∞</label>
                </div>
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p class="question-text">3. –Ø –ø–æ–ª–æ–∂–∏–ª –∫–∞—Ä–∞–Ω–¥–∞—à –∏ –ø–µ–Ω–∞–ª –≤ –ø–æ—Ä—Ç—Ñ–µ–ª—å.</p>
                <div class="radio-group">
                    <label><input type="radio" name="q8" value="–∞"> –û—à–∏–±–æ–∫ –Ω–µ—Ç</label>
                    <label><input type="radio" name="q8" value="–±"> –∫–∞—Ä–∞–Ω–¥–∞—à ‚Üí –∫–æ—Ä–∞–Ω–¥–∞—à</label>
                    <label><input type="radio" name="q8" value="–≤"> –ø–µ–Ω–∞–ª ‚Üí –ø–∏–Ω–∞–ª</label>
                </div>
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p class="question-text">4. –í–∞—Ä–æ–Ω–∞ —Å–∏–¥–µ–ª–∞ –Ω–∞ –±–∏—Ä–∏–∑–µ.</p>
                <div class="radio-group">
                    <label><input type="radio" name="q9" value="–∞"> –≤–∞—Ä–æ–Ω–∞ ‚Üí –≤–æ—Ä–æ–Ω–∞, –±–∏—Ä–∏–∑–µ ‚Üí –±–µ—Ä—ë–∑–µ</label>
                    <label><input type="radio" name="q9" value="–±"> —Ç–æ–ª—å–∫–æ –≤–∞—Ä–æ–Ω–∞ ‚Üí –≤–æ—Ä–æ–Ω–∞</label>
                    <label><input type="radio" name="q9" value="–≤"> –û—à–∏–±–æ–∫ –Ω–µ—Ç</label>
                </div>
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p class="question-text">5. –ú—ã –ø–æ–µ—Ö–∞–ª–∏ –Ω–∞ –≤–∞–≥–∑–∞–ª –Ω–∞ –º–∞—à–∏–Ω–µ.</p>
                <div class="radio-group">
                    <label><input type="radio" name="q10" value="–∞"> –≤–∞–≥–∑–∞–ª ‚Üí –≤–æ–∫–∑–∞–ª</label>
                    <label><input type="radio" name="q10" value="–±"> –º–∞—à–∏–Ω–µ ‚Üí –º–æ—à–∏–Ω–µ</label>
                    <label><input type="radio" name="q10" value="–≤"> –û—à–∏–±–æ–∫ –Ω–µ—Ç</label>
                </div>
                <div class="feedback"></div>
            </div>

            <div class="button-group">
                <button class="check-btn" onclick="checkExercise(3)">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                <button class="show-answer-btn" onclick="showAnswers(3)">–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç—ã</button>
                <button class="reset-btn" onclick="resetExercise(3)">–°–±—Ä–æ—Å–∏—Ç—å</button>
            </div>

            <div class="answer-key" id="answers3">
                <h4>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:</h4>
                <div class="answer-key-content">
                    1. <strong>–∞) –û—à–∏–±–æ–∫ –Ω–µ—Ç</strong><br>
                    2. <strong>–±) —Å–æ–±–æ–∫–∞ ‚Üí —Å–æ–±–∞–∫–∞, –∫–∞—Ä–æ–≤–∞ ‚Üí –∫–æ—Ä–æ–≤–∞</strong><br>
                    3. <strong>–∞) –û—à–∏–±–æ–∫ –Ω–µ—Ç</strong><br>
                    4. <strong>–∞) –≤–∞—Ä–æ–Ω–∞ ‚Üí –≤–æ—Ä–æ–Ω–∞, –±–∏—Ä–∏–∑–µ ‚Üí –±–µ—Ä—ë–∑–µ</strong><br>
                    5. <strong>–∞) –≤–∞–≥–∑–∞–ª ‚Üí –≤–æ–∫–∑–∞–ª</strong>
                </div>
            </div>
        </div>

        <!-- –ò—Ç–æ–≥–æ–≤—ã–π —Ç–µ—Å—Ç -->
        <div class="exercise" id="finalTest">
            <h2>üéì –ò—Ç–æ–≥–æ–≤—ã–π —Ç–µ—Å—Ç</h2>
            <p class="exercise-description">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è! –î–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –Ω—É–∂–Ω–æ –Ω–∞–±—Ä–∞—Ç—å –Ω–µ –º–µ–Ω–µ–µ 70%.</p>

            <div class="question">
                <p class="question-text">1. –°–ª–æ–≤–∞—Ä–Ω—ã–µ —Å–ª–æ–≤–∞ ‚Äî —ç—Ç–æ:</p>
                <div class="radio-group">
                    <label><input type="radio" name="test1" value="–∞"> –°–ª–æ–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å</label>
                    <label><input type="radio" name="test1" value="–±"> –°–ª–æ–≤–∞ —Å –Ω–µ–ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–º–∏ –≥–ª–∞—Å–Ω—ã–º–∏</label>
                    <label><input type="radio" name="test1" value="–≤"> –°–ª–æ–≤–∞ –∏–∑ —Å–ª–æ–≤–∞—Ä—è —Å–∏–Ω–æ–Ω–∏–º–æ–≤</label>
                </div>
            </div>

            <div class="question">
                <p class="question-text">2. –í—Å—Ç–∞–≤—å—Ç–µ –±—É–∫–≤—ã: –∫_—Ä_–≤–∞</p>
                <div class="radio-group">
                    <label><input type="radio" name="test2" value="–∞"> –∞, –æ</label>
                    <label><input type="radio" name="test2" value="–±"> –æ, –æ</label>
                    <label><input type="radio" name="test2" value="–≤"> –æ, –∞</label>
                </div>
            </div>

            <div class="question">
                <p class="question-text">3. –í—Å—Ç–∞–≤—å—Ç–µ –±—É–∫–≤—ã: —Å_–±_–∫–∞</p>
                <div class="radio-group">
                    <label><input type="radio" name="test3" value="–∞"> –∞, –æ</label>
                    <label><input type="radio" name="test3" value="–±"> –æ, –æ</label>
                    <label><input type="radio" name="test3" value="–≤"> –æ, –∞</label>
                </div>
            </div>

            <div class="question">
                <p class="question-text">4. –ö–∞–∫–æ–µ —Å–ª–æ–≤–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ?</p>
                <div class="radio-group">
                    <label><input type="radio" name="test4" value="–∞"> –≤–∞—Ä–æ–Ω–∞</label>
                    <label><input type="radio" name="test4" value="–±"> –≤–æ—Ä–æ–Ω–∞</label>
                    <label><input type="radio" name="test4" value="–≤"> –≤–∞—Ä–∞–Ω–æ</label>
                </div>
            </div>

            <div class="question">
                <p class="question-text">5. –ö–∞–∫–æ–µ —Å–ª–æ–≤–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ?</p>
                <div class="radio-group">
                    <label><input type="radio" name="test5" value="–∞"> –∫–∞—Ä–∞–Ω–¥–∞—à</label>
                    <label><input type="radio" name="test5" value="–±"> –∫–æ—Ä–∞–Ω–¥–∞—à</label>
                    <label><input type="radio" name="test5" value="–≤"> –∫–∞—Ä–æ–Ω–¥–∞—à</label>
                </div>
            </div>

            <div class="question">
                <p class="question-text">6. –í—Å—Ç–∞–≤—å—Ç–µ –±—É–∫–≤—ã: –≤_–≥_–Ω</p>
                <div class="radio-group">
                    <label><input type="radio" name="test6" value="–∞"> –æ, –∞</label>
                    <label><input type="radio" name="test6" value="–±"> –∞, –æ</label>
                    <label><input type="radio" name="test6" value="–≤"> –∞, –∞</label>
                </div>
            </div>

            <div class="question">
                <p class="question-text">7. –ì–¥–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–ª–æ–≤–∞—Ä–Ω—ã–µ —Å–ª–æ–≤–∞?</p>
                <div class="radio-group">
                    <label><input type="radio" name="test7" value="–∞"> –í –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º —Å–ª–æ–≤–∞—Ä–µ</label>
                    <label><input type="radio" name="test7" value="–±"> –£ –¥—Ä—É–∑–µ–π</label>
                    <label><input type="radio" name="test7" value="–≤"> –ù–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å</label>
                </div>
            </div>

            <div class="question">
                <p class="question-text">8. –ö–∞–∫–æ–µ —Å–ª–æ–≤–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ?</p>
                <div class="radio-group">
                    <label><input type="radio" name="test8" value="–∞"> –º–∞—à—ã–Ω–∞</label>
                    <label><input type="radio" name="test8" value="–±"> –º–∞—à–∏–Ω–∞</label>
                    <label><input type="radio" name="test8" value="–≤"> –º–æ—à–∏–Ω–∞</label>
                </div>
            </div>

            <div class="question">
                <p class="question-text">9. –í—Å—Ç–∞–≤—å—Ç–µ –±—É–∫–≤—ã: –∫_–ø_—Å—Ç–∞</p>
                <div class="radio-group">
                    <label><input type="radio" name="test9" value="–∞"> –æ, —É</label>
                    <label><input type="radio" name="test9" value="–±"> –∞, —É</label>
                    <label><input type="radio" name="test9" value="–≤"> –∞, –æ</label>
                </div>
            </div>

            <div class="question">
                <p class="question-text">10. –ö–∞–∫–æ–µ —Å–ª–æ–≤–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ?</p>
                <div class="radio-group">
                    <label><input type="radio" name="test10" value="–∞"> –≤–∞—Ä–æ–±–µ–π</label>
                    <label><input type="radio" name="test10" value="–±"> –≤–æ—Ä–æ–±–µ–π</label>
                    <label><input type="radio" name="test10" value="–≤"> –≤–æ—Ä–∞–±–µ–π</label>
                </div>
            </div>

            <div class="button-group">
                <button class="check-btn" onclick="checkFinalTest()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ—Å—Ç</button>
                <button class="reset-btn" onclick="resetExercise('final')">–°–±—Ä–æ—Å–∏—Ç—å</button>
            </div>
        </div>

        <div class="result-box" id="resultBox"></div>

        <div class="nav-buttons">
            <a href="lesson-02-vowels-unchecked.html" class="nav-btn">‚¨ÖÔ∏è –ö —Ç–µ–æ—Ä–∏–∏</a>
            <a href="../../index.html" class="nav-btn">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
            <a href="../../skills-matrix.html" class="nav-btn">üìä –ù–∞–≤—ã–∫–∏</a>
        </div>
    </div>

    <script type="module">
        import { ExerciseService } from '../../src/firebase/services/exerciseService.js';
        import { AuthService } from '../../src/firebase/services/authService.js';
        import SkillsService from '../../src/firebase/services/skillsService.js';

        // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–ª—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
        const exercise2Answers = { q1: '–±', q2: '–≤', q3: '–±', q4: '–≤', q5: '–±' };
        const exercise3Answers = { q6: '–∞', q7: '–±', q8: '–∞', q9: '–∞', q10: '–∞' };
        const testAnswers = {
            test1: '–±', test2: '–±', test3: '–≤', test4: '–±', test5: '–∞',
            test6: '–±', test7: '–∞', test8: '–±', test9: '–±', test10: '–±'
        };

        let completedExercises = 0;
        const totalExercises = 4;

        function updateProgress() {
            const percentage = Math.round((completedExercises / totalExercises) * 100);
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = percentage + '%';
            progressBar.textContent = percentage + '%';
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è 1 (–≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞)
        window.checkExercise = function(exerciseNum) {
            if (exerciseNum === 1) {
                const questions = document.querySelectorAll('#exercise1 .question');
                let correct = 0;

                questions.forEach(question => {
                    const input = question.querySelector('input[type="text"]');
                    const feedback = question.querySelector('.feedback');
                    const userAnswer = input.value.trim().toLowerCase().replace(/\s/g, '');
                    const correctAnswer = input.dataset.answer.replace(/\s/g, '');

                    if (userAnswer === correctAnswer) {
                        input.classList.add('correct');
                        input.classList.remove('incorrect');
                        feedback.className = 'feedback correct show';
                        feedback.textContent = '‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ!';
                        correct++;
                    } else {
                        input.classList.add('incorrect');
                        input.classList.remove('correct');
                        feedback.className = 'feedback incorrect show';
                        feedback.textContent = '‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ' + input.dataset.answer;
                    }
                });

                if (correct === questions.length) {
                    completedExercises = Math.max(completedExercises, 1);
                    updateProgress();
                }
            } else if (exerciseNum === 2) {
                checkRadioExercise('exercise2', exercise2Answers, 2);
            } else if (exerciseNum === 3) {
                checkRadioExercise('exercise3', exercise3Answers, 3);
            }
        };

        function checkRadioExercise(exerciseId, answers, exerciseNum) {
            const questions = document.querySelectorAll(`#${exerciseId} .question`);
            let correct = 0;

            questions.forEach((question, index) => {
                const radios = question.querySelectorAll('input[type="radio"]');
                const feedback = question.querySelector('.feedback');
                let selected = null;

                radios.forEach(radio => {
                    if (radio.checked) {
                        selected = radio.value;
                    }
                    radio.parentElement.classList.remove('correct', 'incorrect');
                });

                if (!selected) {
                    feedback.className = 'feedback incorrect show';
                    feedback.textContent = '‚ö† –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞';
                    return;
                }

                const correctAnswer = answers[radios[0].name];

                radios.forEach(radio => {
                    if (radio.value === correctAnswer) {
                        radio.parentElement.classList.add('correct');
                    } else if (radio.checked) {
                        radio.parentElement.classList.add('incorrect');
                    }
                });

                if (selected === correctAnswer) {
                    feedback.className = 'feedback correct show';
                    feedback.textContent = '‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ!';
                    correct++;
                } else {
                    feedback.className = 'feedback incorrect show';
                    feedback.textContent = '‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ';
                }
            });

            if (correct === questions.length) {
                completedExercises = Math.max(completedExercises, exerciseNum);
                updateProgress();
            }
        }

        window.showAnswers = function(exerciseNum) {
            document.getElementById('answers' + exerciseNum).classList.add('show');
        };

        window.resetExercise = function(exerciseNum) {
            if (exerciseNum === 'final') {
                const questions = document.querySelectorAll('#finalTest .question');
                questions.forEach(question => {
                    const radios = question.querySelectorAll('input[type="radio"]');
                    radios.forEach(radio => {
                        radio.checked = false;
                        radio.parentElement.classList.remove('correct', 'incorrect');
                    });
                });
                document.getElementById('resultBox').classList.remove('show');
            } else {
                const exercise = document.getElementById('exercise' + exerciseNum);
                const inputs = exercise.querySelectorAll('input');
                const feedbacks = exercise.querySelectorAll('.feedback');
                const answerKey = document.getElementById('answers' + exerciseNum);

                inputs.forEach(input => {
                    if (input.type === 'text') {
                        input.value = '';
                        input.classList.remove('correct', 'incorrect');
                    } else if (input.type === 'radio') {
                        input.checked = false;
                        input.parentElement.classList.remove('correct', 'incorrect');
                    }
                });

                feedbacks.forEach(feedback => {
                    feedback.classList.remove('show');
                });

                if (answerKey) {
                    answerKey.classList.remove('show');
                }
            }
        };

        window.checkFinalTest = async function() {
            const questions = document.querySelectorAll('#finalTest .question');
            let correct = 0;
            let answered = 0;

            questions.forEach((question, index) => {
                const radios = question.querySelectorAll('input[type="radio"]');
                let selected = null;

                radios.forEach(radio => {
                    if (radio.checked) {
                        selected = radio.value;
                        answered++;
                    }
                    radio.parentElement.classList.remove('correct', 'incorrect');
                });

                if (selected) {
                    const correctAnswer = testAnswers[radios[0].name];

                    radios.forEach(radio => {
                        if (radio.value === correctAnswer) {
                            radio.parentElement.classList.add('correct');
                        } else if (radio.checked) {
                            radio.parentElement.classList.add('incorrect');
                        }
                    });

                    if (selected === correctAnswer) {
                        correct++;
                    }
                }
            });

            if (answered < questions.length) {
                alert('‚ö†Ô∏è –û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π!');
                return;
            }

            const percentage = Math.round((correct / questions.length) * 100);
            const passed = percentage >= 70;

            const resultBox = document.getElementById('resultBox');
            resultBox.className = 'result-box show';
            resultBox.innerHTML = `
                <div class="emoji">${passed ? 'üéâ' : 'üòî'}</div>
                <h3>${passed ? '–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!' : '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑'}</h3>
                <div class="score">${correct} / ${questions.length}</div>
                <p>–ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: <strong>${percentage}%</strong></p>
                <p>${passed 
                    ? '–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –í—ã —É—Å–ø–µ—à–Ω–æ –æ—Å–≤–æ–∏–ª–∏ —Ç–µ–º—É —Å–ª–æ–≤–∞—Ä–Ω—ã—Ö —Å–ª–æ–≤!' 
                    : '–î–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –Ω—É–∂–Ω–æ –Ω–∞–±—Ä–∞—Ç—å –Ω–µ –º–µ–Ω–µ–µ 70%. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.'
                }</p>
            `;

            if (passed) {
                completedExercises = totalExercises;
                updateProgress();

                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Firebase
                try {
                    const user = AuthService.getCurrentUser();
                    if (user) {
                        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
                        await ExerciseService.saveResult(user.uid, 'exercise-02-vowels-dictionary', {
                            score: percentage,
                            answers: [],
                            mistakes: []
                        });

                        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–∞
                        await SkillsService.updateSkillProgress(user.uid, 'vowels-unchecked', correct, questions.length);
                        
                        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –Ω–∞–≤—ã–∫–æ–≤ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã –Ω–∞–≤—ã–∫–æ–≤
                        try {
                            const channel = new BroadcastChannel('skills-update');
                            channel.postMessage({
                                type: 'SKILL_UPDATED',
                                skillId: 'vowels-unchecked',
                                userId: user.uid,
                                timestamp: Date.now()
                            });
                            channel.close();
                            console.log('üì° –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞–≤—ã–∫–æ–≤');
                        } catch (e) {
                            console.log('BroadcastChannel –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è:', e);
                        }
                        
                        console.log('‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ Firebase');
                        
                        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
                        resultBox.innerHTML += `
                            <div style="margin-top: 15px; padding: 10px; background: #e8f5e9; border-radius: 5px; color: #2e7d32;">
                                ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—ë–Ω! –ù–∞–≤—ã–∫ "–ù–µ–ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –≥–ª–∞—Å–Ω—ã–µ" –æ–±–Ω–æ–≤–ª—ë–Ω.
                            </div>
                            <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                                <button class="check-btn" onclick="window.location.href='lesson-02-vowels-unchecked.html'" style="background: #757575; padding: 10px 20px; border: none; border-radius: 8px; color: white; font-weight: 600; cursor: pointer;">
                                    ‚¨ÖÔ∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç–µ–æ—Ä–∏–∏
                                </button>
                                <button class="check-btn" onclick="window.location.href='../../index.html'" style="background: #4caf50; padding: 10px 20px; border: none; border-radius: 8px; color: white; font-weight: 600; cursor: pointer;">
                                    üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
                                </button>
                                <button class="check-btn" onclick="window.location.href='../../skills-matrix.html'" style="background: #2196F3; padding: 10px 20px; border: none; border-radius: 8px; color: white; font-weight: 600; cursor: pointer;">
                                    üìä –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞–≤—ã–∫–∏
                                </button>
                            </div>
                        `;
                    } else {
                        console.warn('‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
                        resultBox.innerHTML += `
                            <div style="margin-top: 15px; padding: 10px; background: #fff3e0; border-radius: 5px; color: #e65100;">
                                ‚ö†Ô∏è –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                            </div>
                        `;
                    }
                } catch (error) {
                    console.error('‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:', error);
                    alert('‚ö†Ô∏è –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏: ' + error.message);
                }
            } else {
                // –ï—Å–ª–∏ –Ω–µ –ø—Ä–æ—à—ë–ª —Ç–µ—Å—Ç
                resultBox.innerHTML += `
                    <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                        <button class="check-btn" onclick="resetExercise('final')" style="background: #ff9800; padding: 10px 20px; border: none; border-radius: 8px; color: white; font-weight: 600; cursor: pointer;">
                            üîÑ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
                        </button>
                        <button class="check-btn" onclick="window.location.href='lesson-02-vowels-unchecked.html'" style="background: #757575; padding: 10px 20px; border: none; border-radius: 8px; color: white; font-weight: 600; cursor: pointer;">
                            üìñ –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç–µ–æ—Ä–∏–∏
                        </button>
                    </div>
                `;
            }

            resultBox.scrollIntoView({ behavior: 'smooth', block: 'center' });
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateProgress();
    </script>
</body>
</html>
